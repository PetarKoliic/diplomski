<app-admin-menu></app-admin-menu>


<div class="background_img_van_gogh appraisals_background_list" >

<mat-card *ngFor="let appraisal of appraisals" fxLayout="column" fxLayoutAlign="center center" class="example-card">
    <mat-card-header>
        <div mat-card-avatar class="example-header-image"></div>
        <!-- <mat-card-title>Procena</mat-card-title> -->
        <!-- <mat-card-subtitle>Dog Breed</mat-card-subtitle> -->
    </mat-card-header>
    <!-- <img mat-card-image style="width: 400px; height: 300px;" src="https://material.angular.io/assets/img/examples/shiba2.jpg" alt="Photo of a Shiba Inu"> -->

    <!-- <img mat-card-image style="width: 400px; height: 300px;" *ngFor='let preview of appraisal.img_names' [src]="'http://localhost:4000/uploads/' + preview" class="preview">
    <mat-card-content> -->

    <img mat-card-image style="width: 400px; height: 300px;" *ngFor='let img of show_img(appraisal)'
        [src]="'http://localhost:4000/uploads/' + img" class="preview">


    <!-- <img mat-card-image style="width: 400px; height: 300px;"
        [src]="'http://localhost:4000/uploads/' + img_name(appraisal)" class="preview"> -->

    <mat-paginator #paginator [length]="appraisal.img_names.length" showFirstLastButtons="true" [pageSize]="1" [pageSizeOptions]="[1, 3, 5]" aria-label="Select page" (page)="pageEvent($event, appraisal)">
    </mat-paginator>


    <mat-card-content>
        <p *ngIf="appraisal.name != ''">
            Ime: {{appraisal.name}} </p>
          <p *ngIf="appraisal.country!= ''"> Zemlja porekla: {{appraisal.country}} </p>

          <p *ngIf="appraisal.date != null">
            Datum pravljenja: {{appraisal.date}}
          </p>
          <p *ngIf="appraisal.author != ''">
            Autor: {{appraisal.author}}
          </p>
        <p>
            Opis: <br> {{appraisal.description}}
        </p>
        <p>
            Korisnik: {{appraisal.username}}
        </p>
        <p>
        Datum pravljenja dela:
        <span *ngIf="appraisal.date_created != null"> {{functions.format_date_only(appraisal.date_created)}} </span>
      </p>
      <p>
        Datum stavljanja na procenu:
        <span *ngIf="appraisal.date_created != null">{{functions.format_date(appraisal.date_added)}} </span>
      </p>


        <mat-form-field appearance="fill">
            <mat-label>Unos prodate cene</mat-label>
            <input matInput  [ngModel]="estimated_values.get(appraisal._id)" (ngModelChange)="estimated_values.set(appraisal._id, $event)">
        </mat-form-field>


    </mat-card-content>
    <mat-card-actions>
        <button mat-button onclick (click)='finish_appraisal(appraisal)'>Prodata cena</button>
        <!-- <button (click)='backward_image(appraisal)' mat-button>Nazad</button>
        <button (click)='forward_image(appraisal)' mat-button>Napred</button> -->

        <button mat-button onclick (click)='delete_appraisal(appraisal)'>Obrisi umetninu</button>
    </mat-card-actions>
</mat-card>

</div>
